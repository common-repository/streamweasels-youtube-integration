function streamWeaselsYouTube(e){this._opts=e,this.uuid=e.uuid,this.channelID=e.channelID,this.channelTitle="",this.playlistID=e.playlistID,this.liveStreamID=e.liveStreamID,this.pageToken=e.pageToken,this.limit=e.limit,this.layout=e.layout,this.slideCount=e.slideCount,this.titleOverride=e.titleOverride,this.pagination=e.pagination,this.embed=e.embed,this.embedMuted=e.embedMuted,this.showOffline=e.showOffline,this.showOfflineText=e.showOfflineText,this.showOfflineImage=e.showOfflineImage,this.autoload=e.autoload,this.autoplay=e.autoplay,this.logoImage=e.logoImage,this.logoBgColour=e.logoBgColour,this.logoBorderColour=e.logoBorderColour,this.tileSorting=e.tileSorting,this.tileBgColour=e.tileBgColour,this.tileTitleColour=e.tileTitleColour,this.tileSubtitleColour=e.tileSubtitleColour,this.hoverColour=e.hoverColour,this.enableCache=e.enableCache,this.hideShorts=e.hideShorts,this.shortsIds=e.shortsIds,this.translationsLive=e.translationsLive,this.translationsViews=e.translationsViews,this.translationsNextPage=e.translationsNextPage,this.translationsPrevPage=e.translationsPrevPage,this.nonce=e.nonce,this.wrapper=document.querySelector(".cp-streamweasels-youtube--"+this.uuid),this.target=this.wrapper.querySelector(".cp-streamweasels-youtube__streams"),this.loading=this.wrapper.querySelector(".cp-streamweasels-youtube__loader"),this.player=this.wrapper.querySelector(".cp-streamweasels-youtube__player"),this.liveStreamID?this._getUploadID(this.liveStreamID):this.playlistID?this.enableCache&&streamWeaselsYouTubeVars.cacheData.channelID==this.playlistID?(console.log("pulling playlist from YouTube cache"),this._appendVideos(streamWeaselsYouTubeVars.cacheData.items,0)):this._getChannelVideos([this.playlistID],this.pageToken):this.channelID?"showcase"==this.layout?this._getShortsID(this.channelID):this.enableCache&&streamWeaselsYouTubeVars.cacheData.channelID==this.channelID?(console.log("pulling channel from YouTube cache"),this._appendVideos(streamWeaselsYouTubeVars.cacheData.items,0)):this._getUploadID(this.channelID):this._getUploadID("UCAuUUnT6oDeKwE6v1NGQxug")}function swyiFetchFreshNonce(){return fetch(streamWeaselsYouTubeVars.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action=swyi_get_fresh_nonce"}).then(e=>{if(e.ok)return e.json();throw new Error("fetchFreshNonce() failed")}).then(e=>{if(e.success&&e.data&&e.data.nonce)return e.data.nonce;throw new Error("fetchFreshNonce() success - data not valid: "+JSON.stringify(e))})}streamWeaselsYouTube.prototype=Object.create(null,{constructor:{value:streamWeaselsYouTube},_handleApiResponse:{value:function(e,t){return"rest_cookie_invalid_nonce"===e.code?(console.error(t+" - nonce validation failed:",e),!1):!!Array.isArray(e.items)||(console.error(t+" - unexpected data format:",e),!1)}},_getUploadID:{value:function(e){for(var t=e.split(","),s=[],a=0;a<t.length;a++){var i=t[a].trim();0===i.indexOf("UC")?s.push("UU"+i.substring(2)):(console.warn('ID does not start with "UC":',i),s.push(i))}this.liveStreamID?(this.wrapper.dataset.total=this.liveStreamID.split(",").length,this._getLiveVideos(s)):this.channelID&&this._getChannelVideos(s,!1)}},_getShortsID:{value:function(e){for(var t=e.split(","),s=[],a=0;a<t.length;a++){var i=t[a].trim();0===i.indexOf("UC")?s.push("UUSH"+i.substring(2)):(console.warn('ID does not start with "UC":',i),s.push(i))}this._getShorts(s)}},_getChannelVideos:{value:function(s,a=!1){for(var i="&maxResults="+this.limit,o=[],r=[],l=0,e=0;e<s.length;e++)!function(t){var e="&playlistId="+s[t];a&&(e+="&pageToken="+a),o[t]=new XMLHttpRequest,o[t].open("GET","/?rest_route=/streamweasels-youtube/v1/fetch-videos/"+e+i),o[t].setRequestHeader("X-WP-Nonce",this.nonce),console.log("_getChannelVideos","https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails"+e+i),o[t].onreadystatechange=function(){if(4===o[t].readyState)if(l++,200===o[t].status)try{var e=JSON.parse(o[t].responseText);this._handleApiResponse(e,"_getChannelVideos")&&(1==s.length?(e.items&&0<e.items.length&&this._appendVideos(e.items),this.pagination&&"feature"!==this.layout&&"status"!==this.layout&&!this.liveStreamID&&(e.nextPageToken||e.prevPageToken)&&this._updatePagination(e.nextPageToken,e.prevPageToken,s)):(r=r.concat(e.items||[]),l===s.length&&this._appendVideos(r.sort(function(e,t){e=new Date(e.snippet.publishedAt);return new Date(t.snippet.publishedAt)-e}))))}catch(e){console.error("Failed to parse response for request index:",t,e)}else console.error("HTTP Error for request index:",t,"Status:",o[t].status)}.bind(this),o[t].send()}.bind(this)(e)}},_getLiveVideos:{value:function(t){for(var i="&maxResults=50",e=0;e<t.length;e++)!function(s){var a=new XMLHttpRequest,e="&playlistId="+t[s];a.open("GET","/?rest_route=/streamweasels-youtube/v1/fetch-videos/"+e+i),a.setRequestHeader("X-WP-Nonce",this.nonce),console.log("_getLiveVideos","https://www.googleapis.com/youtube/v3/playlistItems?part=snippet"+e+i),a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)try{var e,t=JSON.parse(a.responseText);this._handleApiResponse(t,"_getLiveVideos")&&t.items&&0<t.items.length&&(e=t.items.map(function(e){return e.snippet.resourceId.videoId}).join(","),this._checkLiveStatus(e))}catch(e){console.error("Failed to parse response for request at index:",s,e)}else console.error("HTTP Error for request at index:",s,"Status:",a.status),this.wrapper.dataset.total--}.bind(this),a.onerror=function(){console.error("Network Error for request at index:",s)},a.send()}.bind(this)(e)}},_getShorts:{value:function(a){for(var i=[],o=[],r=0,e=0;e<a.length;e++)!function(s){var e="&maxResults=100",t="&playlistId="+a[s];i[s]=new XMLHttpRequest,i[s].open("GET","/?rest_route=/streamweasels-youtube/v1/fetch-videos/"+t+e),i[s].setRequestHeader("X-WP-Nonce",this.nonce),console.log("_getShorts","https://www.googleapis.com/youtube/v3/playlistItems?part=snippet"+t+e),i[s].onreadystatechange=function(){if(4===i[s].readyState)if(r++,200===i[s].status)try{var e,t=JSON.parse(i[s].responseText);this._handleApiResponse(t,"_getShorts")&&(t.items&&0<t.items.length&&(e=t.items,o=o.concat(e)),r===a.length)&&(0<o.length?(o.sort(function(e,t){return new Date(t.snippet.publishedAt)-new Date(e.snippet.publishedAt)}),this._appendVideos(o)):(this.showOfflineText="No Shorts Found!",this._postAppend()))}catch(e){console.error("Failed to parse response: ",e)}else console.error("Request failed with status: ",i[s].status)}.bind(this),i[s].send()}.bind(this)(e)}},_checkLiveStatus:{value:function(a){var e="&id="+a,i=[];i[a]=new XMLHttpRequest,i[a].open("GET","/?rest_route=/streamweasels-youtube/v1/fetch-live/"+e),i[a].setRequestHeader("X-WP-Nonce",this.nonce),console.log("_checkLiveStatus","https://www.googleapis.com/youtube/v3/videos"+e),i[a].onreadystatechange=function(){if(4===i[a].readyState)if(200===i[a].status)try{var e=JSON.parse(i[a].responseText);if(this._handleApiResponse(e,"_checkLiveStatus")){for(var t=null,s=0;s<e.items.length;s++)if("live"===e.items[s].snippet.liveBroadcastContent){t=e.items[s],this.wrapper.dataset.online++;break}!t&&0<e.items.length&&(t=e.items[0],this.wrapper.dataset.offline++),t&&this._appendLiveStreams(t)}}catch(e){console.error("Failed to parse response:",e)}else console.error("HTTP Error:",i[a].status),this.wrapper.dataset.total--}.bind(this),i[a].send()}},_appendVideos:{value:function(e){var t=0;this.target.innerHTML="";for(var s=0;s<e.length;s++){t++;var a=e[s]?.snippet,i=a.thumbnails?.maxres?.url||a.thumbnails?.standard?.url||a.thumbnails?.high?.url||a.thumbnails?.medium?.url||a.thumbnails?.default?.url,o=a.title,r=this._daysAgo(a.publishedAt),l=a.resourceId?.videoId,n=e[s]?.status?.privacyStatus||"public",u=this.titleOverride||a.channelTitle||"",d=u.toLowerCase(),h="",h=(this.hideShorts&&this.shortsIds&&(shortsIdArray=this.shortsIds.split(",")).includes(l)&&(n="private"),`
				${h=""!==this.logoImage?`<img class="cp-stream__logo" src="${this.logoImage}" style="${this.logoBorderColour&&"border-color:"+this.logoBorderColour};${this.logoBgColour&&"background-color:"+this.logoBgColour}">`:h}<div class="cp-stream__info-wrapper">
					<span class="cp-stream__title" style="${this.tileTitleColour&&"color:"+this.tileTitleColour}">${o}</span>
					<span class="cp-stream__meta" style="${this.tileSubtitleColour&&"color:"+this.tileSubtitleColour}"><strong class="cp-stream__meta--game">${u}</strong> • ${r}</span>
					</div>
				`),u=`
					<div class="cp-stream cp-stream--online" style="${this.hoverColour&&"background-color:"+this.hoverColour}" data-user="${d}" data-status="${n}">
						<a class="cp-stream__inner" href="https://www.youtube.com/watch?v=${l}" target="_blank" title="${o}" data-channel-name="${d}" data-video-id="${l}" data-language="en" data-type="video" data-date="${this._days(a.publishedAt)}" data-status="online" style="${this.tileBgColour&&"background-color:"+this.tileBgColour};${this.tileRoundedCorners&&"border-radius:"+this.tileRoundedCorners+"px"};">
							<div class="cp-stream__image">
								<img loading="lazy" src="${i}">
								<div class="cp-stream__overlay"></div>
                                <div class="cp-stream__embed-inside"></div>
							</div>
							<div class="cp-stream__info">
								${h}
							</div>
						</a>
					</div>
				`;if(this.target.insertAdjacentHTML("beforeend",u),this.wrapper.dataset.online++,t==this.limit||t==e.length){this._postAppend();break}}}},_appendLiveStreams:{value:function(e){var t,s,a,i,o,r,l,n=e.snippet,u=n.liveBroadcastContent;("live"==u||this.showOffline)&&(1==this.showOffline&&parseInt(this.wrapper.dataset.total)<this.limit||0==this.showOffline&&parseInt(this.wrapper.dataset.online)<this.limit)&&(t=n.channelTitle,n.thumbnails.medium?s=n.thumbnails.medium.url:streamWeaselsYouTubeVars.thumbnail,a=n.title,r=this._daysAgo(n.publishedAt),i=n.channelTitle,e=e.id,o=n.channelId,"status"==this.layout&&"live"==u&&(r=this.translationsLive),(l="")!==this.logoImage&&(l=`<img class="cp-stream__logo" src="${this.logoImage}" style="${this.logoBorderColour&&"border-color:"+this.logoBorderColour};${this.logoBgColour&&"background-color:"+this.logoBgColour}">`),liveMeta="live"==u?`<span class="cp-stream__meta--live">${this.translationsLive}</span>`:"• "+r,r=`
                    ${l}<div class="cp-stream__info-wrapper">
                        <span class="cp-stream__title" style="${this.tileTitleColour&&"color:"+this.tileTitleColour}">${a}</span>
                        <span class="cp-stream__meta" style="${this.tileSubtitleColour&&"color:"+this.tileSubtitleColour}"><strong class="cp-stream__meta--game">${t}</strong> ${liveMeta}</span>
                        </div>
                    `,l=`
                        <div class="cp-stream cp-stream--${u}" style="${this.hoverColour&&"background-color:"+this.hoverColour}" data-user="${i.toLowerCase()}">
                            <a class="cp-stream__inner" href="https://www.youtube.com/watch?v=${e}" target="_blank" title="${a}" data-channel-name="${i.toLowerCase()}" data-video-id="${e}" data-channel-id="${o}" data-language="en" data-type="video" data-date="${this._days(n.publishedAt)}"  data-live="${"live"==u?1:0}" style="${this.tileBgColour&&"background-color:"+this.tileBgColour};${this.tileRoundedCorners&&"border-radius:"+this.tileRoundedCorners+"px"};">
                                <div class="cp-stream__image">
                                    <img loading="lazy" src="${s}">
                                    <div class="cp-stream__overlay">
                                        <span class="cp-stream__live-status">${this.translationsLive}</span>
                                    </div>
                                    <div class="cp-stream__embed-inside"></div>
                                </div>
                                <div class="cp-stream__info">
                                    ${r}
                                </div>
                            </a>
                        </div>
                    `,this.target.insertAdjacentHTML("beforeend",l)),this.wrapper.dataset.total==parseInt(this.wrapper.dataset.offline,10)+parseInt(this.wrapper.dataset.online,10)&&this._postAppend()}},_postAppend:{value:function(){var e;this.loading&&this.loading.remove(),this._sortStreams(),0==this.wrapper.dataset.online&&(this.wrapper.classList.add("cp-streamweasels-youtube--all-offline"),this.showOfflineText||this.showOfflineImage)&&this._offlineMessage(),"feature"==this.layout&&this.target.children.length&&(1==(e=this.target.querySelectorAll(".cp-stream")).length&&(e=e[0].cloneNode(!0),this.target.appendChild(e)),setTimeout(function(){startYTFlipster(this.wrapper,this.target)}.bind(this),300)),"showcase"==this.layout&&this._startShowcase(this.wrapper,this.target),"status"==this.layout&&(this.wrapper.classList.add("cp-streamweasels-youtube--loaded"),setTimeout(function(){this.target.classList.add("cp-streamweasels-youtube__streams--loaded")}.bind(this),1e3),setTimeout(function(){this.wrapper.classList.add("cp-streamweasels-youtube--animation-finished")}.bind(this),2e3),this.target.classList.contains("cp-streamweasels-youtube__streams--carousel-0"))&&setTimeout(function(){jQuery(this.target).slick({dots:!1,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,prevArrow:'<button type="button" class="slick-prev"><svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',nextArrow:'<button type="button" class="slick-next"><svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>'})}.bind(this),3e3),this._clickHandler()}},_clickHandler:{value:function(){var e;this.autoload&&0<(e=this.wrapper.querySelectorAll('.cp-stream:not([data-status="private"])')).length&&(e=e[0].querySelector("a"),this._embedVideo(e)),this.wrapper.querySelectorAll(".cp-stream__inner").forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),this._embedVideo(t)}.bind(this))})}},_embedVideo:{value:function(o){var e,t=document.querySelector("body"),s=this.wrapper.querySelector(".cp-streamweasels-youtube__player");"youtube"==this.embed&&window.open("https://youtube.com/watch?v="+o.dataset.videoId,"_blank"),"status"==this.layout&&"page"==this.embed&&(this.embed="popup"),"page"==this.embed&&((e=this.wrapper.querySelector(".cp-streamweasels-youtube__player")).innerHTML="",e.insertAdjacentHTML("afterbegin",'<div class="cp-streamweasels-youtube__player-target"></div>'),s=this.wrapper.querySelector(".cp-streamweasels-youtube__player-target"),new YT.Player(s,{height:"390",width:"640",videoId:o.dataset.videoId,playerVars:{playsinline:1},events:{onReady:function(e){this.embedMuted&&e.target.mute(),this.autoplay&&e.target.playVideo()}.bind(this),onStateChange:function(){}.bind(this)}}),this.player.classList.add("cp-streamweasels-youtube__player--active"),this.wrapper.classList.add("cp-streamweasels-youtube--embed-page-active")),"popup"==this.embed&&(t.insertAdjacentHTML("beforeend",`<div class="cp-streamweasels-modal">
                <div class="cp-streamweasels-modal__player"><div class="cp-streamweasels-modal__player-target"></div></div>
            </div>`),e=document.querySelector(".cp-streamweasels-modal"),s=document.querySelector(".cp-streamweasels-modal__player-target"),new YT.Player(s,{height:"390",width:"640",videoId:o.dataset.videoId,playerVars:{playsinline:1},events:{onReady:function(e){this.embedMuted&&e.target.mute(),this.autoplay&&e.target.playVideo()}.bind(this),onStateChange:function(){}.bind(this)}}),this._modalControls(e),this.wrapper.classList.add("cp-streamweasels-youtube--embed-popup-active")),"feature"==this.layout&&"inside"==this.embed&&setTimeout(function(){var e=this.wrapper.querySelector(".flipster__item--current"),t=e.querySelector(".cp-stream__image"),s=e.querySelector(".cp-stream__embed-inside"),a=t.querySelector("iframe"),t=t.querySelector("img"),i=t.width,t=t.height;"detailed"==this.tileLayout&&(t+=48),e.classList.add("flipster__item--embed"),a&&a.remove(),new YT.Player(s,{height:t,width:i,videoId:o.dataset.videoId,playerVars:{playsinline:1},events:{onReady:function(e){this.embedMuted&&e.target.mute(),e.target.playVideo()}.bind(this),onStateChange:function(){}.bind(this)}}),this.wrapper.classList.add("cp-streamweasels-youtube--embed-page-active"),this.embedTitle=!1}.bind(this),500),"showcase"!=this.layout||"inside"!=this.embed||o.classList.contains("slick__item--embed")||(s=(t=o).querySelector(".cp-stream__image"),e=t.querySelector(".cp-stream__embed-inside"),t=s.querySelector("iframe"),s.querySelector("img"),o.classList.add("slick__item--embed"),t&&t.remove(),new YT.Player(e,{height:"100%",width:"100%",videoId:o.dataset.videoId,playerVars:{playsinline:1},events:{onReady:function(e){this.embedMuted&&e.target.mute(),e.target.playVideo()}.bind(this),onStateChange:function(){}.bind(this)}}),this.wrapper.classList.add("cp-streamweasels-youtube--embed-page-active"),this.embedTitle=!1),this.embedTitle&&"page"==this.embed&&"online"==o.dataset.status&&this._embedTitle(o.getAttribute("title"))}},_sortStreams:{value:function(){var t=this.wrapper.querySelector(".cp-streamweasels-youtube__streams");[...t.children].sort(function(e,t){return this.liveStreamID&&0<this.wrapper.dataset.online?0==e.children[0].dataset.live?1:-1:"alpha"==this.tileSorting?e.children[0].getAttribute("title")>t.children[0].getAttribute("title")?1:-1:"least"==this.tileSorting?t.children[0].dataset.date-e.children[0].dataset.date:"most"==this.tileSorting?e.children[0].dataset.date-t.children[0].dataset.date:"random"==this.tileSorting?.5-Math.random():void 0}.bind(this)).forEach(e=>{t.appendChild(e)})}},_offlineMessage:{value:function(){var e=`<div class="cp-streamweasels-youtube__offline">
                ${this.showOfflineImage&&"<img src='"+this.showOfflineImage+"'>"}
                ${this.showOfflineText&&"<h3>"+this.showOfflineText+"</h3>"}
            </div>`;this.wrapper.querySelector(".cp-streamweasels-youtube__offline-wrapper").innerHTML="",this.wrapper.querySelector(".cp-streamweasels-youtube__offline-wrapper").insertAdjacentHTML("beforeend",e)}},_updatePagination:{value:function(e,t,s){this.wrapper.querySelector(".cp-streamweasels-youtube__pagination").innerHTML="",t&&(this.wrapper.dataset.prevPageToken=t,this.wrapper.querySelector(".cp-streamweasels-youtube__pagination").insertAdjacentHTML("beforeend",'<a class="cp-streamweasels-youtube__pagination--prev" href="#" data-prev="'+t+'" data-uuid="'+this.uuid+'" data-playlist="'+s+'">❮ '+this.translationsPrevPage+"</a>"),this.wrapper.querySelector(".cp-streamweasels-youtube__pagination--prev").onclick=function(e){YTGetNextPage(e)}),e&&(this.wrapper.dataset.nextPageToken=e,this.wrapper.querySelector(".cp-streamweasels-youtube__pagination").insertAdjacentHTML("beforeend",'<a class="cp-streamweasels-youtube__pagination--next" href="#" data-next="'+e+'" data-uuid="'+this.uuid+'" data-playlist="'+s+'">'+this.translationsNextPage+" ❯</a>"),this.wrapper.querySelector(".cp-streamweasels-youtube__pagination--next").onclick=function(e){YTGetNextPage(e)})}},_modalControls:{value:function(t){t.addEventListener("click",function(e){t.remove()}),document.onkeydown=function(e){"Escape"===e.key&&t.remove()}}},_daysAgo:{value:function(e){var t=new Date,e=new Date(e),s=(e.setDate(e.getDate()),t-e),a=0;if((s=Math.floor(s/1e3))<2)return"a moment ago";if(s<5)return"moments ago";if(s<60)return s+" seconds ago";if(s<120)return"a minute ago";if(s<3600){for(;60<=s;)s-=60,a+=1;return a+" minutes ago"}if(s<7200)return"an hour ago";if(s<86400){for(;3600<=s;)s-=3600,a+=1;return a+" hours ago"}if(s<172800)return"a day ago";if(s<604800){for(;172800<=s;)s-=172800,a+=1;return a+" days ago"}if(s<1209600)return"a week ago";if(s<2592e3){for(;604800<=s;)s-=604800,a+=1;return a+" weeks ago"}if(s<5184e3)return"a month ago";if(s<31536e3){for(;2592e3<=s;)s-=2592e3,a+=1;return a+" months ago"}return s<141912e4?"more than year ago":void 0}},_days:{value:function(e){var t=new Date,e=new Date(e),t=(e.setDate(e.getDate()),t-e);return Math.floor(t/1e3)}},_startShowcase:{value:function(e,t){jQuery(window).resize(function(){jQuery(t).slick("slickSetOption","slidesToShow",this._slidesToShow(e),!0)}.bind(this)),jQuery(t).slick({dots:!1,slidesToShow:this._slidesToShow(e),slidesToScroll:1,swipeToSlide:!0,prevArrow:'<button type="button" class="slick-prev"><svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',nextArrow:'<button type="button" class="slick-next"><svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>'})}},_slidesToShow:{value:function(e){return slidesToShow=1280<=e.offsetWidth?this.slideCount||6:1024<=e.offsetWidth?this.slideCount||5:768<=e.offsetWidth?this.slideCount||4:560<=e.offsetWidth?3:380<=e.offsetWidth?2:1}}});var streamWeaselsYouTubeNodes=document.querySelectorAll(".cp-streamweasels-youtube");function YTGetNextPage(e){e.preventDefault();var uuid=e.target.dataset.uuid,streamWeaselsYouTubeVarUuid=eval("streamWeaselsYouTubeVars"+uuid),pageToken=e.target.dataset.next||e.target.dataset.prev,playlist=e.target.dataset.playlist,streamWeaselsYouTubeInit=new streamWeaselsYouTube({uuid:uuid,playlistID:playlist,pageToken:pageToken,limit:streamWeaselsYouTubeVarUuid.limit,pagination:streamWeaselsYouTubeVarUuid.pagination,embed:streamWeaselsYouTubeVarUuid.embed,embedMuted:streamWeaselsYouTubeVarUuid.embedMuted,showOffline:streamWeaselsYouTubeVarUuid.showOffline,showOfflineText:streamWeaselsYouTubeVarUuid.showOfflineText,showOfflineImage:streamWeaselsYouTubeVarUuid.showOfflineImage,autoload:streamWeaselsYouTubeVarUuid.autoload,autoplay:streamWeaselsYouTubeVarUuid.autoplay,logoImage:streamWeaselsYouTubeVarUuid.logoImage,logoBgColour:streamWeaselsYouTubeVarUuid.logoBgColour,logoBorderColour:streamWeaselsYouTubeVarUuid.logoBorderColour,tileSorting:streamWeaselsYouTubeVarUuid.tileSorting,tileBgColour:streamWeaselsYouTubeVarUuid.tileBgColour,tileTitleColour:streamWeaselsYouTubeVarUuid.tileTitleColour,tileSubtitleColour:streamWeaselsYouTubeVarUuid.tileSubtitleColour,hoverColour:streamWeaselsYouTubeVarUuid.hoverColour,enableCache:streamWeaselsYouTubeVarUuid.enableCache,hideShorts:streamWeaselsYouTubeVarUuid.hideShorts,shortsIds:streamWeaselsYouTubeVarUuid.shortsIds,translationsLive:streamWeaselsYouTubeVarUuid.translationsLive,translationsViews:streamWeaselsYouTubeVarUuid.translationsViews,translationsNextPage:streamWeaselsYouTubeVarUuid.translationsNextPage,translationsPrevPage:streamWeaselsYouTubeVarUuid.translationsPrevPage,nonce:streamWeaselsYouTubeVarUuid.nonce})}function startYTFlipster(r,e){var t=2;switch(e.querySelectorAll(".cp-stream--live").length){case 1:t=0;break;case 2:t=1}jQuery(r).flipster({style:"carousel",itemContainer:".cp-streamweasels-youtube__streams",itemSelector:".cp-stream",loop:!0,buttons:!0,spacing:-.5,scrollwheel:!1,start:t,onItemSwitch:function(){var e,t,s,a=r.querySelector(".flipster__item--embed"),i=r.querySelector(".flipster__item--past-1"),o=r.querySelector(".flipster__item--future-1");a&&(e=a.querySelector("iframe"),i&&(t=i.querySelector("iframe")),o&&(s=o.querySelector("iframe")),a.classList.remove("flipster__item--embed"),e&&(e.insertAdjacentHTML("beforebegin",'<div class="cp-stream__embed-inside"></div>'),e.remove()),t&&(e.insertAdjacentHTML("beforebegin",'<div class="cp-stream__embed-inside"></div>'),e.remove()),s)&&(e.insertAdjacentHTML("beforebegin",'<div class="cp-stream__embed-inside"></div>'),e.remove())}})}streamWeaselsYouTubeNodes.forEach(function(item,index,array){var uuid=item.dataset.uuid;swyiFetchFreshNonce().then(function(freshNonce){var streamWeaselsYouTubeVarUuid=eval("streamWeaselsYouTubeVars"+uuid),streamWeaselsYouTubeInit=new streamWeaselsYouTube({uuid:uuid,channelID:streamWeaselsYouTubeVarUuid.YouTubeChannelID,playlistID:streamWeaselsYouTubeVarUuid.YouTubePlaylistID,pageToken:!1,liveStreamID:streamWeaselsYouTubeVarUuid.YouTubeLiveStreamID,titleOverride:streamWeaselsYouTubeVarUuid.titleOverride,limit:streamWeaselsYouTubeVarUuid.limit,layout:streamWeaselsYouTubeVarUuid.layout,slideCount:streamWeaselsYouTubeVarUuid.slideCount,pagination:streamWeaselsYouTubeVarUuid.pagination,embed:streamWeaselsYouTubeVarUuid.embed,embedMuted:streamWeaselsYouTubeVarUuid.embedMuted,showOffline:streamWeaselsYouTubeVarUuid.showOffline,showOfflineText:streamWeaselsYouTubeVarUuid.showOfflineText,showOfflineImage:streamWeaselsYouTubeVarUuid.showOfflineImage,autoload:streamWeaselsYouTubeVarUuid.autoload,autoplay:streamWeaselsYouTubeVarUuid.autoplay,logoImage:streamWeaselsYouTubeVarUuid.logoImage,logoBgColour:streamWeaselsYouTubeVarUuid.logoBgColour,logoBorderColour:streamWeaselsYouTubeVarUuid.logoBorderColour,tileSorting:streamWeaselsYouTubeVarUuid.tileSorting,tileBgColour:streamWeaselsYouTubeVarUuid.tileBgColour,tileTitleColour:streamWeaselsYouTubeVarUuid.tileTitleColour,tileSubtitleColour:streamWeaselsYouTubeVarUuid.tileSubtitleColour,hoverColour:streamWeaselsYouTubeVarUuid.hoverColour,enableCache:streamWeaselsYouTubeVarUuid.enableCache,hideShorts:streamWeaselsYouTubeVarUuid.hideShorts,shortsIds:streamWeaselsYouTubeVarUuid.shortsIds,translationsLive:streamWeaselsYouTubeVarUuid.translationsLive,translationsViews:streamWeaselsYouTubeVarUuid.translationsViews,translationsNextPage:streamWeaselsYouTubeVarUuid.translationsNextPage,translationsPrevPage:streamWeaselsYouTubeVarUuid.translationsPrevPage,nonce:freshNonce})}).catch(function(e){console.error("Error fetching nonce:",e)})});